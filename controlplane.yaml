# Indicates the schema used to decode the contents.
version: v1alpha1
# Enable verbose logging to the console.
debug: false
persist: true
# Provides machine specific configuration options.
machine:
    files:
        # https://docs.siderolabs.com/talos/v1.9/configure-your-talos-cluster/images-container-runtime/containerd#set-cdi-plugin-spec-dirs-to-writable-directories
        - path: /etc/cri/conf.d/20-customization.part
          op: create
          content: "[plugins.\"io.containerd.cri.v1.runtime\"]\n    cdi_spec_dirs = [\"/var/cdi/static\", \"/var/cdi/dynamic\"]      \n"
    # Defines the role of the machine within the cluster.
    type: controlplane
    # The `token` is used by a machine to join the PKI of the cluster.
    token: ENC[AES256_GCM,data:ua3DT6Lqvzkk2ug3kWbJWFxAN3JCPwI=,iv:HDniGiCIW0yRTdaZkirJRiKnb+wUKUlQnl94uxkCMqo=,tag:XlF92lIwQOLFkS8P3IWhTw==,type:str]
    # The root certificate authority of the PKI.
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQekNCOHFBREFnRUNBaEVBK01pSVRyVExpOEJVQ1k5RWtMaGxhVEFGQmdNclpYQXdFREVPTUF3R0ExVUUKQ2hNRmRHRnNiM013SGhjTk1qVXdPREkwTURVMU9ETXlXaGNOTXpVd09ESXlNRFUxT0RNeVdqQVFNUTR3REFZRApWUVFLRXdWMFlXeHZjekFxTUFVR0F5dGxjQU1oQUtwTkIrdjRUSmtJUDVYZnROcHBkMnhSK1RtYVpaSEhVOU1yClhEOWEvbHczbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3RUcKQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkRqTWlnUFFYMTl2TEIzWQpYL0dQcW11UElPd0RNQVVHQXl0bGNBTkJBSEJFMU1jR3poSEM3cVljcVpqVVhETDcxZCtmNm40WE9OMUdqSCt5Cm1UekJlYTIxbjFsMVM2T0lkU1N5RVlJYXptZWFpdHJNTjNQU2l0UU9JTFhVYndrPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:vwQrdeP3Wm+rMonVljykooV1fITY+IweEg9lrRg4M/EHkGizv0Xi+w9mxD/MfBcqCYwlnn7kqbll46x7UGLPNxbH6yDUCVmZI+rXnxS3I2Me5k+kOT8g3zLqith6JPGEPHEtPuVOMcWOUJmZ/zA6nVUvZOjLBNO+9kmP/rOsNhls74B6m7BD0q/I4gHipLAgpVzNZgZV+ad5ERgEyOmD/V6c27ttK7WmtDLOmYZldtAB2O22,iv:X7zaso6OqoR1TOHHeCKqs1zaMTTOnokrNDanAxomhps=,tag:qGNy+O+cgeQFyu/0sc0Uww==,type:str]
    # Extra certificate subject alternative names for the machine's certificate.
    certSANs: []
    # Used to provide additional options to the kubelet.
    kubelet:
        # The `image` field is an optional reference to an alternative kubelet image.
        image: ghcr.io/siderolabs/kubelet:v1.34.2
        # Feature gates
        extraArgs:
            # https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/
            feature-gates: EnvFiles=true
            rotate-server-certificates: true
        # Enable container runtime default Seccomp profile.
        defaultRuntimeSeccompProfileEnabled: true
        # The `disableManifestsDirectory` field configures the kubelet to get static pod manifests from the /etc/kubernetes/manifests directory.
        disableManifestsDirectory: true
    # Used to provide instructions for installations.
    install:
        # The disk used for installations.
        disk: /dev/nvme0n1
        image: factory.talos.dev/metal-installer-secureboot/056d8e12ba2b9711c613665c43f0ebf86eb451839a22f360a42110362f84faa1:v1.10.7
        # Indicates if the installation disk should be wiped at installation time.
        wipe: false
    # Used to configure the machine's container image registry mirrors.
    registries: {}
    # Machine system disk encryption configuration.
    systemDiskEncryption:
        # State partition encryption.
        state:
            # Encryption provider to use for the encryption.
            provider: luks2
            # Defines the encryption keys generation and storage method.
            keys:
                # Key slot number for LUKS2 encryption.
                - slot: 0
                  # Enable TPM based disk encryption.
                  tpm: {}
        # Ephemeral partition encryption.
        ephemeral:
            # Encryption provider to use for the encryption.
            provider: luks2
            # Defines the encryption keys generation and storage method.
            keys:
                # Key slot number for LUKS2 encryption.
                - slot: 0
                  # Enable TPM based disk encryption.
                  tpm: {}
    # Features describe individual Talos features that can be switched on or off.
    features:
        # Enable role-based access control (RBAC).
        rbac: true
        # Enable stable default hostname.
        stableHostname: true
        # Enable checks for extended key usage of client certificates in apid.
        apidCheckExtKeyUsage: true
        # Enable XFS project quota support for EPHEMERAL partition and user disks.
        diskQuotaSupport: true
        # KubePrism - local proxy/load balancer on defined port that will distribute
        kubePrism:
            # Enable KubePrism support - will start local load balancing proxy.
            enabled: true
            # KubePrism port.
            port: 7445
        # Configures host DNS caching resolver.
        hostDNS:
            # Enable host DNS caching resolver.
            enabled: true
            # Use the host DNS resolver as upstream for Kubernetes CoreDNS pods.
            forwardKubeDNSToHost: true
            # Configures the node labels for the machine.
            # nodeLabels:
            #     node.kubernetes.io/exclude-from-external-load-balancers: ""
# Provides cluster specific configuration options.
cluster:
    # Globally unique identifier for this cluster (base64 encoded random 32 bytes).
    id: hTtC30_7eyWphfHBFAArhsEuNEAPb-V_yjWMMUb8pac=
    # Shared secret of cluster (base64 encoded random 32 bytes).
    secret: ENC[AES256_GCM,data:UX6XzyVIDoWl950yRHEnyh+L9KuWDh19DFoKhzIbtnM95C01zoZcpzSGcXA=,iv:dU0kYaOLZVT0/SnQk3exK7+qyc8ZHMgEOCPSHyFTNnY=,tag:nzPETn9AZSTLq4jB1w1WiA==,type:str]
    # Provides control plane specific configuration options.
    controlPlane:
        # Endpoint is the canonical controlplane endpoint, which can be an IP address or a DNS hostname.
        endpoint: https://10.0.2.50:6443
    # Configures the cluster's name.
    clusterName: escargatoire
    # Provides cluster specific network configuration options.
    network:
        cni:
            name: none
        # The domain used by Kubernetes DNS.
        dnsDomain: cluster.local
        # The pod subnet CIDR.
        podSubnets:
            - 10.244.0.0/16
        # The service subnet CIDR.
        serviceSubnets:
            - 10.96.0.0/12
    # The [bootstrap token](https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/) used to join the cluster.
    token: ENC[AES256_GCM,data:ykcK2HrqQ7xNX0k0R1W4QbIQHIJ6IX8=,iv:I4XH9sE/RUTkUrDWI8bStv/xdcpzXOdXbm86IRF57eE=,tag:+0oQ7ufdzxcQ+H+FyYe7YA==,type:str]
    # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
    secretboxEncryptionSecret: ENC[AES256_GCM,data:qq83BIagj4JNbzdvtj7hpS2aYzo0WXfuPJZXQF9R8lvZmf/8Abg1Cx71szg=,iv:67vwK6rVXtCnbj5dSxDAeU/SawfKGwLgkOaA0uwOZ5w=,tag:CVMpl+jI6LYopoQgSJsfvw==,type:str]
    # The base64 encoded root certificate authority used by Kubernetes.
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpVENDQVRDZ0F3SUJBZ0lSQU9NWU1NUnlSQnM3SVlSYVhMV2JOcE13Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOVEE0TWpRd05UVTRNekphRncwek5UQTRNakl3TlRVNApNekphTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVRsV1BoM2ZMWHh0ZWorb0JtWU5pY1ZneFpVS3VYRFFkMVF5c200a3FPMFM1OVJIMy9aRGU0V3BqWkMKWE9vZ1RabVNIVk1YWHRDbTVJVERFUzJlOGtEUG8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGSy9TZ0ZEZzB6V1pib3U5UExCRVVmamhBT2ZKTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUZkc3V0NkYKRHhuYnMzQXdaWVl4d292SHVPeVlvS1BMZ2FvVTV0ZmIrUm5lQWlCUlpaaXhOUW04M1FjUEJELzV0c3hUV0JTOApEZXV2UDlRUnJ1Q3NKY2VRU1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:VgyTDuiKRllr3KRXYLcu23u4L4kliUaTk4RHpgX9q1F5aTfM5f1hQimjgrciy4bfDOuXaPvn3sni9G359/6MqltZeIF1Q8+kznMpZKb/mCQshrFqOgmoMjzZThb+S2q6D1wdcEgVoLkCT+pHDxLdsLDG6g36rqI3wakyH+ujG3jYIUYZAo8kdHEk9qS7lpJA1mWG50TQg0BzU8SNUve/kihjSs9kuOWauCRq3dKmR+V2CAE51xeMV6Io7wqCrGEcH/K2L1a2SvR1C4f8OHtjv/Md8NAN8U+YtVRuVaZNuZjKZSlvmeP3B4hY8oXFRqg1m8PuLSB2I7e33qeo5C6sRiJMrTM/bcf7Pl62IKV5WabmGmkwroqu/oVfKfKe/NxQOzLJjlOUQ+uHqzSn6o6MRg==,iv:p3BZmx3BBVw5A9hf0eJJZykoPSx+wIS01YXZ2bgldoY=,tag:nrIPzEAgLXXuC5ZKyKGq9g==,type:str]
    # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
    aggregatorCA:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJZRENDQVFhZ0F3SUJBZ0lSQU44c2F1S2NEd3JaZ3dtOGNvbHVKMFV3Q2dZSUtvWkl6ajBFQXdJd0FEQWUKRncweU5UQTRNalF3TlRVNE16SmFGdzB6TlRBNE1qSXdOVFU0TXpKYU1BQXdXVEFUQmdjcWhrak9QUUlCQmdncQpoa2pPUFFNQkJ3TkNBQVNOb2NJakVhTER1WVVzdVZnMEw1d2NrOGNIYW9HdUtWVDZwR1ZZaDcxaGRzM0tJREJsCkp6RmRLcjVnMnl0S0RQYmpJS2lWSFNEZllIZ25sakRTNzAzM28yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXcKSFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4dwpIUVlEVlIwT0JCWUVGT3Q5YTRvc0JqbitPbGtaMGlidnFTYTkzcURVTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDCklGcmY0SWFTRyttL2d4NDBIc0piS0RaUUJzVVVQeVhlREVoTEN3U0N3NERQQWlFQXpYb2t2VU90RlJVMVd4WjcKOXpoMSs5aFdQY1dwUUxwRWkwcEU3ZU5OS0RvPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:FD1D6GNZQZlVk3Op3641nj0Ues9BifpvkzNmsqMQjTTRZ91mV2WIOUdFqak1+wvS2VhhXBh6C96oi5AOmLS9IDRtovACTOuVpDWtiDx93q9G1qjS1gV7kjicAbDog4BhOv1MQ/vcVEqmiKDwesiEwfmCO1QpX4gW/mdiBuUIJRdVtbmxmXQbp6UZDE5DDfGWYa8hxnxQedi8g2CBerMEjC+s1r+90L702cVfSHIPq1xlxSeEs+Cs5qkAfhIM2zLozfeX+fiYTCIqlVK2W/mK951v+VdflmgD+uOjVFXiYySm1lt7WWhILtIIP+OMNc0i4nv9QTPW5RD2S4YoZQLelXnb9XTRilptdSQOCSY9jjzmUUBubYX6ZAUpjGXddRUFCoyjW2whFsrwyZA3wFjPHQ==,iv:nn3eB0ub5KL/Eali0Cn0ft+rWrEoPGNY/OGaN8Klnp4=,tag:61cc7T1YR1qHg+dfbhRC+g==,type:str]
    # The base64 encoded private key for service account token generation.
    serviceAccount:
        key: ENC[AES256_GCM,data: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,iv:croNzLs9kVUdw6m0QxQOXXPq90StRW1pfcqTQbxEV6w=,tag:IgmAsu21UrYlUIlSjsb3IQ==,type:str]
    # API server specific configuration options.
    apiServer:
        # The container image used in the API server manifest.
        image: registry.k8s.io/kube-apiserver:v1.34.2
        # Feature gates
        extraArgs:
            # https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/
            feature-gates: EnvFiles=true
        # Extra certificate subject alternative names for the API server's certificate.
        certSANs:
            - 10.0.2.50
        # Disable PodSecurityPolicy in the API server and default manifests.
        disablePodSecurityPolicy: true
        # Configure the API server admission plugins.
        admissionControl:
            # Name is the name of the admission controller.
            - name: PodSecurity
              # Configuration is an embedded configuration object to be used as the plugin's
              configuration:
                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
                defaults:
                    audit: restricted
                    audit-version: latest
                    enforce: baseline
                    enforce-version: latest
                    warn: restricted
                    warn-version: latest
                exemptions:
                    namespaces:
                        - kube-system
                    runtimeClasses: []
                    usernames: []
                kind: PodSecurityConfiguration
        # Configure the API server audit policy.
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    # Controller manager server specific configuration options.
    controllerManager:
        # The container image used in the controller manager manifest.
        image: registry.k8s.io/kube-controller-manager:v1.34.2
    # Kube-proxy server-specific configuration options
    proxy:
        # The container image used in the kube-proxy manifest.
        disabled: true
    # Scheduler server specific configuration options.
    scheduler:
        # The container image used in the scheduler manifest.
        image: registry.k8s.io/kube-scheduler:v1.34.2
    # Configures cluster member discovery.
    discovery:
        # Enable the cluster membership discovery feature.
        enabled: true
        # Configure registries used for cluster member discovery.
        registries:
            # Kubernetes registry uses Kubernetes API server to discover cluster members and stores additional information
            kubernetes:
                # Disable Kubernetes discovery registry.
                disabled: true
            # Service registry is using an external service to push and pull information about cluster members.
            service: {}
    # Etcd specific configuration options.
    etcd:
        # The `ca` is the root certificate authority of the PKI.
        ca:
            crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmakNDQVNTZ0F3SUJBZ0lSQUxsRll2bU1IbmdpUE45cTVXYU5DbGd3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TlRBNE1qUXdOVFU0TXpKYUZ3MHpOVEE0TWpJd05UVTRNekphTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTUHhhYUJ0bnZJClpoNkVFU1ZUd0ZTd0o3QUtwd2QxRy9xSEViTDNaZDUyR1dsR29WZ0JzZHRRZjBDRmNhdWtmcCtWWHhENmpLdWsKaVBHdXJ5UnJic3ZEbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkZuOHVzQnZFT0tHCk9YNTl1QStFWHdROVh3VlNNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJSHEzTFp5aFJBd0szOGFVLzY2NmFZMkEKM0tFOE1HcDNOMjVrVzVid3JaanpBaUVBN1ovM0thR3ZqcGF0S2NQU2M0QjY1dUwwUi9VUkhzamxYQk9FU1NyeApCRGs9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
            key: ENC[AES256_GCM,data:39U04Tp9tqx+oMKOOW2gxSO+dLY+z1DnCjUw7LmCBEYONGhbntbkcxLKxyXurBVcR0mQQxzz6u/3CIDYeZJGtJcSw49FKFr6jtANdwHscRO0MJCp4oNyOyuK8PPIAtfDThdimOhfvfWB1MmKSGgFFTJABPZcYTDU6QW2RsqgVji4Vu+OLuFZY1tuToAXSzCxGw+UZPWAX/6utbuRt9++tnioUZjHs49AEei4GVmTsyFAm3l5SVpXf5n2zGEqePZY0hNP+ZIzY7zlCrbzMeSzbD3Re/4Mh2Vyv7Vyzfv5yLP8wYI46MgTVvW9sjYSqbyF9nDVfZ3qkPeUi46CmSY87wonNwy+Je11ukfDOi/I0jFpUUhtVIiSdX9H+INKf/P8x5tIAPED7ra5+EhRXtiSsg==,iv:4McM8rA1jtYT4Nox3gnMOweG084z1y7o3xD31UZaAKU=,tag:koS6owKwPQghTMUJFyhzjQ==,type:str]
    # A list of urls that point to additional manifests.
    extraManifests: []
    #   - https://www.example.com/manifest1.yaml
    #   - https://www.example.com/manifest2.yaml
    # A list of inline Kubernetes manifests.
    inlineManifests: []
    #   - name: namespace-ci # Name of the manifest.
    #     contents: |- # Manifest contents as a string.
    #       apiVersion: v1
    #       kind: Namespace
    #       metadata:
    #       	name: ci
    # # Allows running workload on control-plane nodes.
    allowSchedulingOnControlPlanes: true
sops:
    age:
        - recipient: age1dm2uej5x6cpvclx7azp5h3ez4dp5kdggx6a30eqf0uul2deead9q2w29sf
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBKaE8xb0NHWWcrMzBmYVNu
            dmhzNE5mK1JhdHEreG9zai9rWHZITTludjFzCnFnODByU3E2K25tNnd4SG1KdHR4
            VWl3R1pOZmMrYlpZckpBa3AyaENmek0KLS0tIG9sVHZ3M25KSm1IY3o2a1VmUndS
            cHFSbFByOUFFbWNwRy9CK3Y3RjVmbjQKRJ9VuDvRjMeVavy87dPORajDvbHOgmNg
            4vBaYqpyaGBDcHhLuAOq/nRevyl6d6ZhAc3n1mqx/7VHAbQiYhQxQA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-12-16T18:40:32Z"
    mac: ENC[AES256_GCM,data:S5GPbLgCvE1HRrI/Q4KM3qCbpfhdVmTxZdwhZL/EeITrbIClYzOrtL6En9YN3yLIFDqGLku8u9YwME5ke5SrV6JRnc4B5zavUt53kCmLIrauwes1jHXxwk2sFCfWYyIPXF8xa5xw5dwewQfthpPYn73zGomOpMrIG3xss77SnVo=,iv:2q8L4Zdtmv8rd2KJOTSwXYap/Cp4hGbqkmKXE+0k2JM=,tag:IKaF5XaVODvt6PZZ8ZqESg==,type:str]
    encrypted_regex: ^(secret|bootstraptoken|secretboxEncryptionSecret|token|key|password)$
    version: 3.11.0

# Indicates the schema used to decode the contents.
version: v1alpha1
# Enable verbose logging to the console.
debug: false
persist: true
# Provides machine specific configuration options.
machine:
    files:
        # https://docs.siderolabs.com/talos/v1.9/configure-your-talos-cluster/images-container-runtime/containerd#set-cdi-plugin-spec-dirs-to-writable-directories
        - path: /etc/cri/conf.d/20-customization.part
          op: create
          content: "[plugins.\"io.containerd.cri.v1.runtime\"]\n    cdi_spec_dirs = [\"/var/cdi/static\", \"/var/cdi/dynamic\"]      \n"
    # Defines the role of the machine within the cluster.
    type: controlplane
    # The `token` is used by a machine to join the PKI of the cluster.
    token: ENC[AES256_GCM,data:Fq354AIJXRX2uczzf+WIPi/932AcncI=,iv:xjMeWuikECIBknyOt4qIKlEkXgmeNAikGMdaEDDxPIU=,tag:J+7qCWDJovE9YHuYiih6Ag==,type:str]
    # The root certificate authority of the PKI.
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQekNCOHFBREFnRUNBaEVBK01pSVRyVExpOEJVQ1k5RWtMaGxhVEFGQmdNclpYQXdFREVPTUF3R0ExVUUKQ2hNRmRHRnNiM013SGhjTk1qVXdPREkwTURVMU9ETXlXaGNOTXpVd09ESXlNRFUxT0RNeVdqQVFNUTR3REFZRApWUVFLRXdWMFlXeHZjekFxTUFVR0F5dGxjQU1oQUtwTkIrdjRUSmtJUDVYZnROcHBkMnhSK1RtYVpaSEhVOU1yClhEOWEvbHczbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3RUcKQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkRqTWlnUFFYMTl2TEIzWQpYL0dQcW11UElPd0RNQVVHQXl0bGNBTkJBSEJFMU1jR3poSEM3cVljcVpqVVhETDcxZCtmNm40WE9OMUdqSCt5Cm1UekJlYTIxbjFsMVM2T0lkU1N5RVlJYXptZWFpdHJNTjNQU2l0UU9JTFhVYndrPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:LCBjP3sD+7wRF4pt7fyQi89EKo4ciu7cZgsrd4bB2DJ6HcLeO0uJJ010U8VtJyh2IIgJrj1jYpylENA3SpHskoXht0DCgN+R52JXueAXPZ3jTXFYgtODvYw3ZISwOvGt47ZTUXIBvAMks3VRM+IAqlNTdd+np/YYFBOgC5ZHci9eUzF9TUuPBcDDkMIsaXQ5sQz3Hiqqnd7MdhFcFLLjwd0bGURWcxCNy6OoMBBU54oXQbIo,iv:EUgabWeVS1KzC0fmWBMD5kZhILJqAzvBBrvUzUcgVPY=,tag:YdlyOU+CH0ZXn2SiR2DgMg==,type:str]
    # Extra certificate subject alternative names for the machine's certificate.
    certSANs: []
    # Used to provide additional options to the kubelet.
    kubelet:
        # The `image` field is an optional reference to an alternative kubelet image.
        image: ghcr.io/siderolabs/kubelet:v1.34.2
        # Feature gates
        extraArgs:
            # https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/
            feature-gates: EnvFiles=true
            rotate-server-certificates: true
        # Enable container runtime default Seccomp profile.
        defaultRuntimeSeccompProfileEnabled: true
        # The `disableManifestsDirectory` field configures the kubelet to get static pod manifests from the /etc/kubernetes/manifests directory.
        disableManifestsDirectory: true
    # Used to provide instructions for installations.
    install:
        # The disk used for installations.
        disk: /dev/nvme0n1
        image: factory.talos.dev/metal-installer-secureboot/056d8e12ba2b9711c613665c43f0ebf86eb451839a22f360a42110362f84faa1:v1.10.7
        # Indicates if the installation disk should be wiped at installation time.
        wipe: false
    # Used to configure the machine's container image registry mirrors.
    registries: {}
    # Machine system disk encryption configuration.
    systemDiskEncryption:
        # State partition encryption.
        state:
            # Encryption provider to use for the encryption.
            provider: luks2
            # Defines the encryption keys generation and storage method.
            keys:
                # Key slot number for LUKS2 encryption.
                - slot: 0
                  # Enable TPM based disk encryption.
                  tpm: {}
        # Ephemeral partition encryption.
        ephemeral:
            # Encryption provider to use for the encryption.
            provider: luks2
            # Defines the encryption keys generation and storage method.
            keys:
                # Key slot number for LUKS2 encryption.
                - slot: 0
                  # Enable TPM based disk encryption.
                  tpm: {}
    # Features describe individual Talos features that can be switched on or off.
    features:
        # Enable role-based access control (RBAC).
        rbac: true
        # Enable stable default hostname.
        stableHostname: true
        # Enable checks for extended key usage of client certificates in apid.
        apidCheckExtKeyUsage: true
        # Enable XFS project quota support for EPHEMERAL partition and user disks.
        diskQuotaSupport: true
        # KubePrism - local proxy/load balancer on defined port that will distribute
        kubePrism:
            # Enable KubePrism support - will start local load balancing proxy.
            enabled: true
            # KubePrism port.
            port: 7445
        # Configures host DNS caching resolver.
        hostDNS:
            # Enable host DNS caching resolver.
            enabled: true
            # Use the host DNS resolver as upstream for Kubernetes CoreDNS pods.
            forwardKubeDNSToHost: true
            # Configures the node labels for the machine.
            # nodeLabels:
            #     node.kubernetes.io/exclude-from-external-load-balancers: ""
        # https://github.com/home-operations/tuppr?tab=readme-ov-file#installation
        kubernetesTalosAPIAccess:
            allowedKubernetesNamespaces:
                - system-upgrade
            allowedRoles:
                - os:admin
            enabled: true
# Provides cluster specific configuration options.
cluster:
    # Globally unique identifier for this cluster (base64 encoded random 32 bytes).
    id: hTtC30_7eyWphfHBFAArhsEuNEAPb-V_yjWMMUb8pac=
    # Shared secret of cluster (base64 encoded random 32 bytes).
    secret: ENC[AES256_GCM,data:v6SGW9Ruy1R/cXe5HkvVmy8HJAE4NriFGS8DjHbvLvbuhzHfqrCpg40DTfw=,iv:sEAbqvtSgu3oVknu4V/yupvx2UQ2V8IukJSDxqszaEA=,tag:j258lYJHFFVctKGAb8G21Q==,type:str]
    # Provides control plane specific configuration options.
    controlPlane:
        # Endpoint is the canonical controlplane endpoint, which can be an IP address or a DNS hostname.
        endpoint: https://10.0.2.50:6443
    # Configures the cluster's name.
    clusterName: escargatoire
    # Provides cluster specific network configuration options.
    network:
        cni:
            name: none
        # The domain used by Kubernetes DNS.
        dnsDomain: cluster.local
        # The pod subnet CIDR.
        podSubnets:
            - 10.244.0.0/16
        # The service subnet CIDR.
        serviceSubnets:
            - 10.96.0.0/12
    # The [bootstrap token](https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/) used to join the cluster.
    token: ENC[AES256_GCM,data:b6BneXGJUarIWfOsa9fQA5OUnN2Ud1Y=,iv:XezhfLVMcNaWKK3aL9eEFfhKQJmOBHaoyeO/SIxUYcY=,tag:5Qwdewl61IeRbJ2jdEGSyQ==,type:str]
    # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
    secretboxEncryptionSecret: ENC[AES256_GCM,data:d+T5zsN0C3cx36xqO6YLSkup5lb29kP25QfUtreMSglZ5e5Jmb16vdq5+9A=,iv:f/fJZiY/oMulpTKWifOTCzy4ZPUp9nUbzdPcwiezn5s=,tag:yHVsl/PgV3CbfsfXJQs4xA==,type:str]
    # The base64 encoded root certificate authority used by Kubernetes.
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpVENDQVRDZ0F3SUJBZ0lSQU9NWU1NUnlSQnM3SVlSYVhMV2JOcE13Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOVEE0TWpRd05UVTRNekphRncwek5UQTRNakl3TlRVNApNekphTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVRsV1BoM2ZMWHh0ZWorb0JtWU5pY1ZneFpVS3VYRFFkMVF5c200a3FPMFM1OVJIMy9aRGU0V3BqWkMKWE9vZ1RabVNIVk1YWHRDbTVJVERFUzJlOGtEUG8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGSy9TZ0ZEZzB6V1pib3U5UExCRVVmamhBT2ZKTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUZkc3V0NkYKRHhuYnMzQXdaWVl4d292SHVPeVlvS1BMZ2FvVTV0ZmIrUm5lQWlCUlpaaXhOUW04M1FjUEJELzV0c3hUV0JTOApEZXV2UDlRUnJ1Q3NKY2VRU1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:nQI4ZVKclcfeMq9dW/olDE/ed84hYdG1ac1vp0sF86qX4de4jUhGNobMioARof/bp309kshFCiSxnw15R+Xar5T5Ilu1vVuQkd+7v1vg1fIVdSorRqwvKriwWNW+YFVCkKTVOn+cIZG+GmGyYHn2hh+bys40Q0iW3B/5nn8wwFbeKJyyDyvD2egcUjve3oelAeCk5mfvibJFSNXlYYK8i7pQ+JHDVRFYMCCo1R5Lk6nzZUsQHa07W4bRKGUS098W/UCY8lB974JN8qRRrSF/mwvTWvUDwVq8dkmdjspxzLdTdbUzSYhanMJ3abz3HOzi3uJ93VWEOOQJUpEzCGZnmdNG/7J5QUDCQf2nnB2dWlTQmcB0r2YD8JIMdn9kkytK+TDFpvXvSUUtoQgmUm9zlw==,iv:l27I8nVCOxOu55Ea4JKjdEBnsDysg7SaZM4fQz25m3E=,tag:fsZGB3v/UHtBkvyTKAecfg==,type:str]
    # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
    aggregatorCA:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJZRENDQVFhZ0F3SUJBZ0lSQU44c2F1S2NEd3JaZ3dtOGNvbHVKMFV3Q2dZSUtvWkl6ajBFQXdJd0FEQWUKRncweU5UQTRNalF3TlRVNE16SmFGdzB6TlRBNE1qSXdOVFU0TXpKYU1BQXdXVEFUQmdjcWhrak9QUUlCQmdncQpoa2pPUFFNQkJ3TkNBQVNOb2NJakVhTER1WVVzdVZnMEw1d2NrOGNIYW9HdUtWVDZwR1ZZaDcxaGRzM0tJREJsCkp6RmRLcjVnMnl0S0RQYmpJS2lWSFNEZllIZ25sakRTNzAzM28yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXcKSFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4dwpIUVlEVlIwT0JCWUVGT3Q5YTRvc0JqbitPbGtaMGlidnFTYTkzcURVTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDCklGcmY0SWFTRyttL2d4NDBIc0piS0RaUUJzVVVQeVhlREVoTEN3U0N3NERQQWlFQXpYb2t2VU90RlJVMVd4WjcKOXpoMSs5aFdQY1dwUUxwRWkwcEU3ZU5OS0RvPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:kYMvL/sjPR8PMb5QLYIrTBZKORwI8TjdK7uyhs6XakbvNsNqFkafWFIqr0DhoRuyNTJ4Ph7WtKeWjG0CyM0MU1Fsq92N3NulYbDAF8pAE0kPti5/KW9kgvbF3V54ZhAA1rHBaGHBY7Nop7Pnl7tS6UjgJZVR9DvOYnmiyiDJqihlzZLeFytyTRwiLHd9M6QNUgtJyW/L81xwcOf1Z5YCrNMscrWOgURlC3pt3wXPBsPaIolIfuvg05k7vvw2lnoNdVXjpZ4Nsnj4s6CQMn1uJcnffbJhZlZETD4U4DNslTJ1MvvF6efpyCpcAp5brmS4kDv/eyVE59nTgajP4CejQ92QGCAT4HB/G5T+1ehuwfIsjkjFMz5qMcGrKSX/4Be9HiI69tyDmmC+N0xSmE6nFw==,iv:VoHutlKnsWG+kwVqbLGzdXNzzwbW44E6LJ/8+l9vaAg=,tag:m/JdpOhFKI+2DEpsChQnZg==,type:str]
    # The base64 encoded private key for service account token generation.
    serviceAccount:
        key: ENC[AES256_GCM,data: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,iv:J8oPk7+t42ihgE00PhwZ4cAaktE+zPsn79poAVcQuF4=,tag:I8x4kyP7P9HnuhUQybuyRg==,type:str]
    # API server specific configuration options.
    apiServer:
        # The container image used in the API server manifest.
        image: registry.k8s.io/kube-apiserver:v1.34.2
        # Feature gates
        extraArgs:
            # https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/
            feature-gates: EnvFiles=true
        # Extra certificate subject alternative names for the API server's certificate.
        certSANs:
            - 10.0.2.50
        # Disable PodSecurityPolicy in the API server and default manifests.
        disablePodSecurityPolicy: true
        # Configure the API server admission plugins.
        admissionControl:
            # Name is the name of the admission controller.
            - name: PodSecurity
              # Configuration is an embedded configuration object to be used as the plugin's
              configuration:
                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
                defaults:
                    audit: restricted
                    audit-version: latest
                    enforce: baseline
                    enforce-version: latest
                    warn: restricted
                    warn-version: latest
                exemptions:
                    namespaces:
                        - kube-system
                    runtimeClasses: []
                    usernames: []
                kind: PodSecurityConfiguration
        # Configure the API server audit policy.
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    # Controller manager server specific configuration options.
    controllerManager:
        # The container image used in the controller manager manifest.
        image: registry.k8s.io/kube-controller-manager:v1.34.2
    # Kube-proxy server-specific configuration options
    proxy:
        # The container image used in the kube-proxy manifest.
        disabled: true
    # Scheduler server specific configuration options.
    scheduler:
        # The container image used in the scheduler manifest.
        image: registry.k8s.io/kube-scheduler:v1.34.2
    # Configures cluster member discovery.
    discovery:
        # Enable the cluster membership discovery feature.
        enabled: true
        # Configure registries used for cluster member discovery.
        registries:
            # Kubernetes registry uses Kubernetes API server to discover cluster members and stores additional information
            kubernetes:
                # Disable Kubernetes discovery registry.
                disabled: true
            # Service registry is using an external service to push and pull information about cluster members.
            service: {}
    # Etcd specific configuration options.
    etcd:
        # The `ca` is the root certificate authority of the PKI.
        ca:
            crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmakNDQVNTZ0F3SUJBZ0lSQUxsRll2bU1IbmdpUE45cTVXYU5DbGd3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TlRBNE1qUXdOVFU0TXpKYUZ3MHpOVEE0TWpJd05UVTRNekphTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTUHhhYUJ0bnZJClpoNkVFU1ZUd0ZTd0o3QUtwd2QxRy9xSEViTDNaZDUyR1dsR29WZ0JzZHRRZjBDRmNhdWtmcCtWWHhENmpLdWsKaVBHdXJ5UnJic3ZEbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkZuOHVzQnZFT0tHCk9YNTl1QStFWHdROVh3VlNNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJSHEzTFp5aFJBd0szOGFVLzY2NmFZMkEKM0tFOE1HcDNOMjVrVzVid3JaanpBaUVBN1ovM0thR3ZqcGF0S2NQU2M0QjY1dUwwUi9VUkhzamxYQk9FU1NyeApCRGs9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
            key: ENC[AES256_GCM,data:195gTyn7nSpCLVL/4Pj9bajN7eXnni8w983T6EU3WF4o5N1op6BT3ge4MvImmeI0sRw4fXO5TPEdnICNPJLsuDTvVpnIFhWKXn6TZKIgbLx5XxhVyosirZbwUWeCzhyZ2ROo+8CO4KybBSD4x4VrDr6JFEgbYQl51EVvVyZycoFR7R1wsYDwf/jDpHm71gDRYV+IRcmJwhlHkgiZOZ/P3wYbl4PIVLbJ5avb+tRj8CDAuAmzfceFPXZCxMwH7tylOPEYzosQGQJx47AAHy7Jpxc7i1b4aNJY7o5bxN99XCdX87BZvxo8fpBDkzdi3fLHk3Tf3JIrlSCmf8PsbMYADVYKkmXyvb/2kqMkzSo9bNt573WSqTYdGYdIitVAb8pvTPZhLjt2pqVabb8PeGVHtg==,iv:V37+lkDrvb4FUOkD8fvHUghiad77oBVcV8CtpvGim9U=,tag:zdqGWpvaO/QXIPl3t0pIHg==,type:str]
    # A list of urls that point to additional manifests.
    extraManifests: []
    #   - https://www.example.com/manifest1.yaml
    #   - https://www.example.com/manifest2.yaml
    # A list of inline Kubernetes manifests.
    inlineManifests: []
    #   - name: namespace-ci # Name of the manifest.
    #     contents: |- # Manifest contents as a string.
    #       apiVersion: v1
    #       kind: Namespace
    #       metadata:
    #       	name: ci
    # # Allows running workload on control-plane nodes.
    allowSchedulingOnControlPlanes: true
sops:
    age:
        - recipient: age1dm2uej5x6cpvclx7azp5h3ez4dp5kdggx6a30eqf0uul2deead9q2w29sf
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBQRFNjSXg0M0Fwb0NSY3VU
            eCtYYWVkcnZqU2M0SU1uYndSeUM2cnNzVGhBCjIwbzBOUHkzLzN3YlA0aDRqanVm
            dzc5L1VuU21lTTZUUTVocmFwSldHRXMKLS0tIGxraUJBUnhRU0NIWGpMSVVCS0t5
            TmdWV2xDSnh0RjFWRjQ4ZlpySDRWQ2MKmZOSUcK7eV6PWa+mbFAMe0jBZRXoK7HV
            gFhQvLC5nGLGGfflX1sc1u2nEVZdqOwBj0wErZphRNOm/d8NipY35w==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-12-17T23:51:00Z"
    mac: ENC[AES256_GCM,data:B8ANOcFNeOC0LezykFihB3a+OyT5R7NLMz1g6q3morZnStj+xxvuWrfcFxmAJbV3Tg2vsYff+EliN4LRT6PhoYQqaeNQxz9zOcprj030yvxm1ug0+o8VvL6HhkP5WyxQxrbc15WvjkZCowbruoE8W7ELy7wqc7sWvSOG6//dBAY=,iv:OODBoLdLNwxCuaQCxH/RbDftjXNidpwx8OQHyYWGbRk=,tag:JSmwd5E3O2NHXo8wnIFQAg==,type:str]
    encrypted_regex: ^(secret|bootstraptoken|secretboxEncryptionSecret|token|key|password)$
    version: 3.11.0

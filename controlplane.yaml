# Indicates the schema used to decode the contents.
version: v1alpha1
# Enable verbose logging to the console.
debug: false
persist: true
# Provides machine specific configuration options.
machine:
    files:
        # https://docs.siderolabs.com/talos/v1.9/configure-your-talos-cluster/images-container-runtime/containerd#set-cdi-plugin-spec-dirs-to-writable-directories
        - path: /etc/cri/conf.d/20-customization.part
          op: create
          content: "[plugins.\"io.containerd.cri.v1.runtime\"]\n    cdi_spec_dirs = [\"/var/cdi/static\", \"/var/cdi/dynamic\"]      \n"
    # Defines the role of the machine within the cluster.
    type: controlplane
    # The `token` is used by a machine to join the PKI of the cluster.
    token: ENC[AES256_GCM,data:CtF+Moq9j/tdjS1z6N0IA937wbyfl/0=,iv:cDsa741IgXBPcW3hgzucGcRU6BTPF2EHKQRnfwGK6oQ=,tag:ulhfQz3t/exdIVWCen3C7Q==,type:str]
    # The root certificate authority of the PKI.
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQekNCOHFBREFnRUNBaEVBK01pSVRyVExpOEJVQ1k5RWtMaGxhVEFGQmdNclpYQXdFREVPTUF3R0ExVUUKQ2hNRmRHRnNiM013SGhjTk1qVXdPREkwTURVMU9ETXlXaGNOTXpVd09ESXlNRFUxT0RNeVdqQVFNUTR3REFZRApWUVFLRXdWMFlXeHZjekFxTUFVR0F5dGxjQU1oQUtwTkIrdjRUSmtJUDVYZnROcHBkMnhSK1RtYVpaSEhVOU1yClhEOWEvbHczbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3RUcKQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkRqTWlnUFFYMTl2TEIzWQpYL0dQcW11UElPd0RNQVVHQXl0bGNBTkJBSEJFMU1jR3poSEM3cVljcVpqVVhETDcxZCtmNm40WE9OMUdqSCt5Cm1UekJlYTIxbjFsMVM2T0lkU1N5RVlJYXptZWFpdHJNTjNQU2l0UU9JTFhVYndrPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:hdKdNs/0CN4YNPtqR5aa4Fb3ePJ4W4UEczmvK/pDZWsKKEVgLxincUZK8PEBn/4dionl+HCUU7VLjwddcC3Aob1AkDk5KjPROjboDzVknjA91/8r24HxgSsJBLM3XQCEXJCf00lVA4s+jFp4zJEcPviLl+pjQLIeRILei/ystSsExMb+b6nLRXIVfjH8maHUhSEFp2TE0e7a0kiUZwyXt0I3DEjzgqZrm6975c4AZjHRq32B,iv:oYKK768/RcL1fYqZOlO0BRamAZslOWXqcbo1GnC2n4Y=,tag:X3ggDzG8QnsAq8EBVJWf+w==,type:str]
    # Extra certificate subject alternative names for the machine's certificate.
    certSANs: []
    # Used to provide additional options to the kubelet.
    kubelet:
        # The `image` field is an optional reference to an alternative kubelet image.
        image: ghcr.io/siderolabs/kubelet:v1.34.1
        # Feature gates
        extraArgs:
            # https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/
            feature-gates: EnvFiles=true
        # Enable container runtime default Seccomp profile.
        defaultRuntimeSeccompProfileEnabled: true
        # The `disableManifestsDirectory` field configures the kubelet to get static pod manifests from the /etc/kubernetes/manifests directory.
        disableManifestsDirectory: true
    # Used to provide instructions for installations.
    install:
        # The disk used for installations.
        disk: /dev/nvme0n1
        image: factory.talos.dev/metal-installer-secureboot/056d8e12ba2b9711c613665c43f0ebf86eb451839a22f360a42110362f84faa1:v1.10.7
        # Indicates if the installation disk should be wiped at installation time.
        wipe: false
    # Used to configure the machine's container image registry mirrors.
    registries: {}
    # Machine system disk encryption configuration.
    systemDiskEncryption:
        # State partition encryption.
        state:
            # Encryption provider to use for the encryption.
            provider: luks2
            # Defines the encryption keys generation and storage method.
            keys:
                # Key slot number for LUKS2 encryption.
                - slot: 0
                  # Enable TPM based disk encryption.
                  tpm: {}
        # Ephemeral partition encryption.
        ephemeral:
            # Encryption provider to use for the encryption.
            provider: luks2
            # Defines the encryption keys generation and storage method.
            keys:
                # Key slot number for LUKS2 encryption.
                - slot: 0
                  # Enable TPM based disk encryption.
                  tpm: {}
    # Features describe individual Talos features that can be switched on or off.
    features:
        # Enable role-based access control (RBAC).
        rbac: true
        # Enable stable default hostname.
        stableHostname: true
        # Enable checks for extended key usage of client certificates in apid.
        apidCheckExtKeyUsage: true
        # Enable XFS project quota support for EPHEMERAL partition and user disks.
        diskQuotaSupport: true
        # KubePrism - local proxy/load balancer on defined port that will distribute
        kubePrism:
            # Enable KubePrism support - will start local load balancing proxy.
            enabled: true
            # KubePrism port.
            port: 7445
        # Configures host DNS caching resolver.
        hostDNS:
            # Enable host DNS caching resolver.
            enabled: true
            # Use the host DNS resolver as upstream for Kubernetes CoreDNS pods.
            forwardKubeDNSToHost: true
            # Configures the node labels for the machine.
            # nodeLabels:
            #     node.kubernetes.io/exclude-from-external-load-balancers: ""
# Provides cluster specific configuration options.
cluster:
    # Globally unique identifier for this cluster (base64 encoded random 32 bytes).
    id: hTtC30_7eyWphfHBFAArhsEuNEAPb-V_yjWMMUb8pac=
    # Shared secret of cluster (base64 encoded random 32 bytes).
    secret: ENC[AES256_GCM,data:vdOa223pxU9VKYq99TI/lrE4jMu3JZ0n5j0zcp/6YcMZa8jInQ/0o0tAkUk=,iv:9z3PMWmTpEeC/tENBxUSxeA6M/IsnvPAWWjMoJm70tI=,tag:/jtzrM/HIyYYuXNxyDH0xQ==,type:str]
    # Provides control plane specific configuration options.
    controlPlane:
        # Endpoint is the canonical controlplane endpoint, which can be an IP address or a DNS hostname.
        endpoint: https://10.0.2.50:6443
    # Configures the cluster's name.
    clusterName: escargatoire
    # Provides cluster specific network configuration options.
    network:
        cni:
            name: none
        # The domain used by Kubernetes DNS.
        dnsDomain: cluster.local
        # The pod subnet CIDR.
        podSubnets:
            - 10.244.0.0/16
        # The service subnet CIDR.
        serviceSubnets:
            - 10.96.0.0/12
    # The [bootstrap token](https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/) used to join the cluster.
    token: ENC[AES256_GCM,data:HqGVEHZExIXpXM7oamoxEgfnpTA/LHk=,iv:X3nF1vZUucmrafyrpsgFsgSpFW4yb69ZKO1lD9vYpTM=,tag:w8bGj+JUtLCOzw+xcsK6jw==,type:str]
    # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
    secretboxEncryptionSecret: ENC[AES256_GCM,data:OCAEJx7ReHokaxmXoCD9AYp8+pCcs9d6LjX5tJErv/bZXMJlgzsKImRy9bM=,iv:ps0kdv+viziZ+wvpC4uomP56aJTwIzX6HPV0VNGOPP8=,tag:sSPSs6ep5q4lfXDzVkixOw==,type:str]
    # The base64 encoded root certificate authority used by Kubernetes.
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpVENDQVRDZ0F3SUJBZ0lSQU9NWU1NUnlSQnM3SVlSYVhMV2JOcE13Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOVEE0TWpRd05UVTRNekphRncwek5UQTRNakl3TlRVNApNekphTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVRsV1BoM2ZMWHh0ZWorb0JtWU5pY1ZneFpVS3VYRFFkMVF5c200a3FPMFM1OVJIMy9aRGU0V3BqWkMKWE9vZ1RabVNIVk1YWHRDbTVJVERFUzJlOGtEUG8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGSy9TZ0ZEZzB6V1pib3U5UExCRVVmamhBT2ZKTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUZkc3V0NkYKRHhuYnMzQXdaWVl4d292SHVPeVlvS1BMZ2FvVTV0ZmIrUm5lQWlCUlpaaXhOUW04M1FjUEJELzV0c3hUV0JTOApEZXV2UDlRUnJ1Q3NKY2VRU1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:8KJhUlBgJN4rU0KFK0vEpVYoKPUNu+mWiyGdFh8cws/8q4Kln3k/3xtEr28B+3xIvAA2FAvgcCOd/UA/vsCymmG4/lnMJI1vVo4wdAQ0lgsaE7WVVFNGRk1EKN88urryzOrpnhd56yLykwEO3h2hLZC+x2AmDboeP2KsiyF0px+vvqoTuxYYgkJJLVtS/beNtVyh2nssMGq8lRhyzyjkNdy7ydWALBoFglOxf3ytnc374tNeaiC9mJDPJ8EF0sRZW6qHNm37RjXfEW75dnPGTwa9sccpdQPJztr+G3QqRJqdkbB97syNjx7WLxw/ECnU9TEBwRHySctFrlpGpcVacfdTqhtbc1vMZ4dJij0lxMOdhe6SUaNGGBHxlLZTw/UGVGF/BWlfuo8jBhMyYled8g==,iv:5hsSC/4OjyG4Y+eJ3vpDk4jhXx1YQ5+8MJCiDzbHTtc=,tag:kFWnZBKDIx44R7yjKE4Iog==,type:str]
    # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
    aggregatorCA:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJZRENDQVFhZ0F3SUJBZ0lSQU44c2F1S2NEd3JaZ3dtOGNvbHVKMFV3Q2dZSUtvWkl6ajBFQXdJd0FEQWUKRncweU5UQTRNalF3TlRVNE16SmFGdzB6TlRBNE1qSXdOVFU0TXpKYU1BQXdXVEFUQmdjcWhrak9QUUlCQmdncQpoa2pPUFFNQkJ3TkNBQVNOb2NJakVhTER1WVVzdVZnMEw1d2NrOGNIYW9HdUtWVDZwR1ZZaDcxaGRzM0tJREJsCkp6RmRLcjVnMnl0S0RQYmpJS2lWSFNEZllIZ25sakRTNzAzM28yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXcKSFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4dwpIUVlEVlIwT0JCWUVGT3Q5YTRvc0JqbitPbGtaMGlidnFTYTkzcURVTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDCklGcmY0SWFTRyttL2d4NDBIc0piS0RaUUJzVVVQeVhlREVoTEN3U0N3NERQQWlFQXpYb2t2VU90RlJVMVd4WjcKOXpoMSs5aFdQY1dwUUxwRWkwcEU3ZU5OS0RvPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:tDo+MiAJQuCYg4iKS+MvKThNLYE4sVmJsLtOIYmidhZ37N/wnINNAYgAIATiy+gq/VW5EcTrfRIe5wry/yQT1jKa5n/ZROMdF+t/8bea4PLLVDz6qDMtKeiNsWofjJWJFfffWfOxgb5/J3kYBgnzyA2yPc6D4DE/QjPl/UHqzXCAHulaIKZHByw+xbXLTAbRxN19rJw9IlxdBhBxWWdGt+T2tP7cuK5cQsrMalihmUIzwBJzM4vz+wP0Te9HBoFbo81VJ4LL84lULF3+J1R8auyH65j9AYBnTdNGWb8aJmnw0j7L1KsPi0eFmTGQ8A88bv9JbOvT8JPTIWhO0LOozVQ2FHV97Ol9DrC2A+CGkeq4fZswurMmm6R19f8fm0LaWhBJlpfJwB74nbf7lmBCJQ==,iv:l5Iuz0Ya2FhP68zwQHLh5AxXkajIMdz2Ojxl4B6T1bY=,tag:mymiht6EIGmypA2SPZp3QA==,type:str]
    # The base64 encoded private key for service account token generation.
    serviceAccount:
        key: ENC[AES256_GCM,data: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,iv:hOk4g/Pku9LDtD1dRdEVLNctuX77z26X+gJWhcY4YQ8=,tag:AkxO/6iVugKR41r2YQbahw==,type:str]
    # API server specific configuration options.
    apiServer:
        # The container image used in the API server manifest.
        image: registry.k8s.io/kube-apiserver:v1.34.1
        # Feature gates
        extraArgs:
            # https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/
            feature-gates: EnvFiles=true
        # Extra certificate subject alternative names for the API server's certificate.
        certSANs:
            - 10.0.2.50
        # Disable PodSecurityPolicy in the API server and default manifests.
        disablePodSecurityPolicy: true
        # Configure the API server admission plugins.
        admissionControl:
            # Name is the name of the admission controller.
            - name: PodSecurity
              # Configuration is an embedded configuration object to be used as the plugin's
              configuration:
                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
                defaults:
                    audit: restricted
                    audit-version: latest
                    enforce: baseline
                    enforce-version: latest
                    warn: restricted
                    warn-version: latest
                exemptions:
                    namespaces:
                        - kube-system
                    runtimeClasses: []
                    usernames: []
                kind: PodSecurityConfiguration
        # Configure the API server audit policy.
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    # Controller manager server specific configuration options.
    controllerManager:
        # The container image used in the controller manager manifest.
        image: registry.k8s.io/kube-controller-manager:v1.34.1
    # Kube-proxy server-specific configuration options
    proxy:
        # The container image used in the kube-proxy manifest.
        disabled: true
    # Scheduler server specific configuration options.
    scheduler:
        # The container image used in the scheduler manifest.
        image: registry.k8s.io/kube-scheduler:v1.34.1
    # Configures cluster member discovery.
    discovery:
        # Enable the cluster membership discovery feature.
        enabled: true
        # Configure registries used for cluster member discovery.
        registries:
            # Kubernetes registry uses Kubernetes API server to discover cluster members and stores additional information
            kubernetes:
                # Disable Kubernetes discovery registry.
                disabled: true
            # Service registry is using an external service to push and pull information about cluster members.
            service: {}
    # Etcd specific configuration options.
    etcd:
        # The `ca` is the root certificate authority of the PKI.
        ca:
            crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmakNDQVNTZ0F3SUJBZ0lSQUxsRll2bU1IbmdpUE45cTVXYU5DbGd3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TlRBNE1qUXdOVFU0TXpKYUZ3MHpOVEE0TWpJd05UVTRNekphTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTUHhhYUJ0bnZJClpoNkVFU1ZUd0ZTd0o3QUtwd2QxRy9xSEViTDNaZDUyR1dsR29WZ0JzZHRRZjBDRmNhdWtmcCtWWHhENmpLdWsKaVBHdXJ5UnJic3ZEbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkZuOHVzQnZFT0tHCk9YNTl1QStFWHdROVh3VlNNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJSHEzTFp5aFJBd0szOGFVLzY2NmFZMkEKM0tFOE1HcDNOMjVrVzVid3JaanpBaUVBN1ovM0thR3ZqcGF0S2NQU2M0QjY1dUwwUi9VUkhzamxYQk9FU1NyeApCRGs9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
            key: ENC[AES256_GCM,data:fUKmmEN5PLu7gcfhw5eLBfhsjfu4LqF+d4jrlrzzUdvStGpX0aDWB2WSS0wOQLRnQ/uK54Paxbm08lCb2F7VJXgMmV4Fu3rAeLGRPmZh0OU3s/ORJmWGD7C9vftvq2ywHIEyBIwCCRNHGUrxNOmxMSE9WH8iFOJ9YL+4Z351/1S6OdiBpwzqOJbJZunUidqyW6cMPDqOMavzh83PJiwO1Ve43EZegsk0lX80sMME91Imf/DKS6T/N/WkGSp7eSr8czBZUd7FZiZNKsReNctODlsSngg7bVl+boBlDiwe00+mj/XHRCz8K4/YO+nCFoU4hoFvaXElpqRzeXgive5C5OZOOxF0N7Ya2ZuuYdwB+/xtVDpU6EjfsitLuvOuGVJJOaKQWwzFSJy5HbRmDHydfA==,iv:cfxhSzFsQ1rbHEMReMcf+G4Q7eV/xHUnvvwJA6NGIi0=,tag:gvQ5meMKJkfbZyorNADm7A==,type:str]
    # A list of urls that point to additional manifests.
    extraManifests: []
    #   - https://www.example.com/manifest1.yaml
    #   - https://www.example.com/manifest2.yaml
    # A list of inline Kubernetes manifests.
    inlineManifests: []
    #   - name: namespace-ci # Name of the manifest.
    #     contents: |- # Manifest contents as a string.
    #       apiVersion: v1
    #       kind: Namespace
    #       metadata:
    #       	name: ci
    # # Allows running workload on control-plane nodes.
    allowSchedulingOnControlPlanes: true
sops:
    age:
        - recipient: age1dm2uej5x6cpvclx7azp5h3ez4dp5kdggx6a30eqf0uul2deead9q2w29sf
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBHQk1tOGxWRVIvSU96S3Rv
            WUdRZTljTXVBOUo0eGthOGZWM05MWGw5NDJJCmRQV090bFp6WTFOQ25seHVHSHFo
            WW4xRFJvbktsTGp0QU91NUN1TURmUm8KLS0tIHhsNWs5YzF0MElzc2xnbncwTmgz
            Y2VJczJaUWRHVnkxZEcySkdJbHBLVkkKaaqVseTlf8TboxOU8re4W5iGiynIAtBQ
            ubRiyTbrCvl4+jrRq6Ku/m+nStvX4NbGv1u3a0Vv9jLF8J9NBBOidA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-12-05T15:32:18Z"
    mac: ENC[AES256_GCM,data:Avq5DrjYSEVBAe3g7IPPHIYTmOcsFVZcHjY0Gs3xUyCrv/dqJvQTFqdbupx29xbCqiQ8ANfGYauwl5t9AidC7jj3ohQAq2gjGhEbcamWNlHTs/cDhAkNR/Rb8RurDOr6/jeCEws7A45Qb5Bzq60qSEHxQnHfHpz/ijP3qHzD88A=,iv:Dqnckew4DkmvMgbTJuglzxN8xcetT/cIuR1tqozO1AQ=,tag:Z6jHvC4mYsxQVrqBe3K5TQ==,type:str]
    encrypted_regex: ^(secret|bootstraptoken|secretboxEncryptionSecret|token|key|password)$
    version: 3.11.0

# Indicates the schema used to decode the contents.
version: v1alpha1
# Enable verbose logging to the console.
debug: false
persist: true
# Provides machine specific configuration options.
machine:
    files:
        # https://docs.siderolabs.com/talos/v1.9/configure-your-talos-cluster/images-container-runtime/containerd#set-cdi-plugin-spec-dirs-to-writable-directories
        - path: /etc/cri/conf.d/20-customization.part
          op: create
          content: "[plugins.\"io.containerd.cri.v1.runtime\"]\n    cdi_spec_dirs = [\"/var/cdi/static\", \"/var/cdi/dynamic\"]      \n"
    # Defines the role of the machine within the cluster.
    type: controlplane
    # The `token` is used by a machine to join the PKI of the cluster.
    token: ENC[AES256_GCM,data:f7hhzfbfuO+URn/4pfFxiNgQaKRFOT8=,iv:Z5AuTPti4Q5GYx19S4RI3W5zKPIxfYnO0Y6z5uHC8MA=,tag:z1G/RxxEvvz9cuQo5ZTnuA==,type:str]
    # The root certificate authority of the PKI.
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQekNCOHFBREFnRUNBaEVBK01pSVRyVExpOEJVQ1k5RWtMaGxhVEFGQmdNclpYQXdFREVPTUF3R0ExVUUKQ2hNRmRHRnNiM013SGhjTk1qVXdPREkwTURVMU9ETXlXaGNOTXpVd09ESXlNRFUxT0RNeVdqQVFNUTR3REFZRApWUVFLRXdWMFlXeHZjekFxTUFVR0F5dGxjQU1oQUtwTkIrdjRUSmtJUDVYZnROcHBkMnhSK1RtYVpaSEhVOU1yClhEOWEvbHczbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3RUcKQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkRqTWlnUFFYMTl2TEIzWQpYL0dQcW11UElPd0RNQVVHQXl0bGNBTkJBSEJFMU1jR3poSEM3cVljcVpqVVhETDcxZCtmNm40WE9OMUdqSCt5Cm1UekJlYTIxbjFsMVM2T0lkU1N5RVlJYXptZWFpdHJNTjNQU2l0UU9JTFhVYndrPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:O7bKxp0vFAznIyoM3XosgkF6WpuY6iOapzE71ARkYzMiKpQpWuZOs0FbP0zjOlZGrebz19ozbkz1Q9/ZqaHm7ELapcIlHCH6YKJwBKwVv6eW5a61L3uDGSp19ZeZbxpTWVX2QqBhnWU7p6uXE6Rgf1Tl0HqntUGxxTkyaJve0J1NKmPXkZ391/aNMg2tpkHYblx3+sPg5GoEVAaFWHBXk0qkUSBeNwGDAklWFVVEeBLYgGRT,iv:/inTNJWHnxcMhfWi4zk8jSnSck4rpApADRPbNFBmqjs=,tag:rxBEnksCCfZtHoqp4NdQAQ==,type:str]
    # Extra certificate subject alternative names for the machine's certificate.
    certSANs: []
    # Used to provide additional options to the kubelet.
    kubelet:
        # The `image` field is an optional reference to an alternative kubelet image.
        image: ghcr.io/siderolabs/kubelet:v1.34.2
        # Feature gates
        extraArgs:
            # https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/
            feature-gates: EnvFiles=true
        # Enable container runtime default Seccomp profile.
        defaultRuntimeSeccompProfileEnabled: true
        # The `disableManifestsDirectory` field configures the kubelet to get static pod manifests from the /etc/kubernetes/manifests directory.
        disableManifestsDirectory: true
    # Used to provide instructions for installations.
    install:
        # The disk used for installations.
        disk: /dev/nvme0n1
        image: factory.talos.dev/metal-installer-secureboot/056d8e12ba2b9711c613665c43f0ebf86eb451839a22f360a42110362f84faa1:v1.10.7
        # Indicates if the installation disk should be wiped at installation time.
        wipe: false
    # Used to configure the machine's container image registry mirrors.
    registries: {}
    # Machine system disk encryption configuration.
    systemDiskEncryption:
        # State partition encryption.
        state:
            # Encryption provider to use for the encryption.
            provider: luks2
            # Defines the encryption keys generation and storage method.
            keys:
                # Key slot number for LUKS2 encryption.
                - slot: 0
                  # Enable TPM based disk encryption.
                  tpm: {}
        # Ephemeral partition encryption.
        ephemeral:
            # Encryption provider to use for the encryption.
            provider: luks2
            # Defines the encryption keys generation and storage method.
            keys:
                # Key slot number for LUKS2 encryption.
                - slot: 0
                  # Enable TPM based disk encryption.
                  tpm: {}
    # Features describe individual Talos features that can be switched on or off.
    features:
        # Enable role-based access control (RBAC).
        rbac: true
        # Enable stable default hostname.
        stableHostname: true
        # Enable checks for extended key usage of client certificates in apid.
        apidCheckExtKeyUsage: true
        # Enable XFS project quota support for EPHEMERAL partition and user disks.
        diskQuotaSupport: true
        # KubePrism - local proxy/load balancer on defined port that will distribute
        kubePrism:
            # Enable KubePrism support - will start local load balancing proxy.
            enabled: true
            # KubePrism port.
            port: 7445
        # Configures host DNS caching resolver.
        hostDNS:
            # Enable host DNS caching resolver.
            enabled: true
            # Use the host DNS resolver as upstream for Kubernetes CoreDNS pods.
            forwardKubeDNSToHost: true
            # Configures the node labels for the machine.
            # nodeLabels:
            #     node.kubernetes.io/exclude-from-external-load-balancers: ""
# Provides cluster specific configuration options.
cluster:
    # Globally unique identifier for this cluster (base64 encoded random 32 bytes).
    id: hTtC30_7eyWphfHBFAArhsEuNEAPb-V_yjWMMUb8pac=
    # Shared secret of cluster (base64 encoded random 32 bytes).
    secret: ENC[AES256_GCM,data:lThW43yq4utm8MKE3aZ8RYD6cbJSsPY/Ad2MCF+WIQqyTl97NAnnZGQb6/w=,iv:pguwJlxe8WKls/7p6DSRhu8QDTdYljDz1J3M8PoP/xs=,tag:BFe45jxNDAiwwOmH2VQ90w==,type:str]
    # Provides control plane specific configuration options.
    controlPlane:
        # Endpoint is the canonical controlplane endpoint, which can be an IP address or a DNS hostname.
        endpoint: https://10.0.2.50:6443
    # Configures the cluster's name.
    clusterName: escargatoire
    # Provides cluster specific network configuration options.
    network:
        cni:
            name: none
        # The domain used by Kubernetes DNS.
        dnsDomain: cluster.local
        # The pod subnet CIDR.
        podSubnets:
            - 10.244.0.0/16
        # The service subnet CIDR.
        serviceSubnets:
            - 10.96.0.0/12
    # The [bootstrap token](https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/) used to join the cluster.
    token: ENC[AES256_GCM,data:QUvPqd0QcfcUrAWvqek6cBJF+1s+378=,iv:/JLrB3g0Igf4oS2DsRn32sotYdiX1vD5ycUR4cNn4+U=,tag:sjBvi4d7nkxiqEzWdb9Chw==,type:str]
    # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
    secretboxEncryptionSecret: ENC[AES256_GCM,data:yE6dONq1WZRfcujuIZNnzVBGhEpNREfWzUfQlERw8XN7KdCucLOFBlpfht4=,iv:RABUeQcy7X/xVWUtOelUgsRlPJBbfujv8sA1Yc9D7FE=,tag:GgiISwd7XmaBAtFbqo/2KA==,type:str]
    # The base64 encoded root certificate authority used by Kubernetes.
    ca:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpVENDQVRDZ0F3SUJBZ0lSQU9NWU1NUnlSQnM3SVlSYVhMV2JOcE13Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOVEE0TWpRd05UVTRNekphRncwek5UQTRNakl3TlRVNApNekphTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVRsV1BoM2ZMWHh0ZWorb0JtWU5pY1ZneFpVS3VYRFFkMVF5c200a3FPMFM1OVJIMy9aRGU0V3BqWkMKWE9vZ1RabVNIVk1YWHRDbTVJVERFUzJlOGtEUG8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGSy9TZ0ZEZzB6V1pib3U5UExCRVVmamhBT2ZKTUFvR0NDcUdTTTQ5QkFNQ0EwY0FNRVFDSUZkc3V0NkYKRHhuYnMzQXdaWVl4d292SHVPeVlvS1BMZ2FvVTV0ZmIrUm5lQWlCUlpaaXhOUW04M1FjUEJELzV0c3hUV0JTOApEZXV2UDlRUnJ1Q3NKY2VRU1E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:KUo0H3HrncYNMiaRCtyfJc9Ac2eBhLk9mQhy6GNYfifMtpg830fUPWP8SSEsaxcVp0g05746ZA9w8x5PVmQwLWjfjiXYDsFlVFw717g6MS3Tqw3NQARHcPOlf9dH3fesP570BPyoAVkBg8Loxq3czKBmwFUsOQQAeuVBzy3EVgGStRvDSNGGmeYhFrRfJsZRzJBd1znKBaGevEvNOEhzyQAKtzMZJwOsqghdL/jFmzur1u0Xq6WKybDa2noRxBayisJG1iD4xeEQeDI4tx251yUawySn+bMUj0CGxn4RNuQ8Y1XikON3e6ekrrP7sgg8OcoccfXCqKQQXp/ReAmbSxY7aFNa7t3SITc/a1qBdEuDV5sMuhWncMh8nIeZGYAbA0CjdBHtQc43cjwlwUDSfA==,iv:R6qex92RpwIKBq7kaFgtQnzvsaLxS03UjtlZ18RC610=,tag:CY7SCZI4laTU4yBBFDnQjQ==,type:str]
    # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
    aggregatorCA:
        crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJZRENDQVFhZ0F3SUJBZ0lSQU44c2F1S2NEd3JaZ3dtOGNvbHVKMFV3Q2dZSUtvWkl6ajBFQXdJd0FEQWUKRncweU5UQTRNalF3TlRVNE16SmFGdzB6TlRBNE1qSXdOVFU0TXpKYU1BQXdXVEFUQmdjcWhrak9QUUlCQmdncQpoa2pPUFFNQkJ3TkNBQVNOb2NJakVhTER1WVVzdVZnMEw1d2NrOGNIYW9HdUtWVDZwR1ZZaDcxaGRzM0tJREJsCkp6RmRLcjVnMnl0S0RQYmpJS2lWSFNEZllIZ25sakRTNzAzM28yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXcKSFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4dwpIUVlEVlIwT0JCWUVGT3Q5YTRvc0JqbitPbGtaMGlidnFTYTkzcURVTUFvR0NDcUdTTTQ5QkFNQ0EwZ0FNRVVDCklGcmY0SWFTRyttL2d4NDBIc0piS0RaUUJzVVVQeVhlREVoTEN3U0N3NERQQWlFQXpYb2t2VU90RlJVMVd4WjcKOXpoMSs5aFdQY1dwUUxwRWkwcEU3ZU5OS0RvPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
        key: ENC[AES256_GCM,data:C/gymyDMMRkLOt+myZ1iSQLuvK0UREHsFuYys8RCio9zFRjBrC15TEPct7dTR1zD6c2WFXQObXfnkQlNAOA2ZydgGYUccFXA7szEw7rgpbdXwgrx9ko4Lv2dEKrSIRcDJS9fdggNGBYMzon8qVPhRkiT9UQi+/jcELYqipdlcapWl7y8HaGw7otXyluaLXSCgo4F44I6IrQxBqESEilKBrnDPGIKYXoeTGZ/qev7KrFgsXM+Qwz7W9gfwRjE0KDvNs/Lbdv34ip4wdyeQK7VxOe0/AaCncV+VBYP5SFT72XM7TL+OSzRu8qaTL+tEuhjwGA6KM4wOoTnhGv/oNoQHIo6Gt029MJXW2wFFrgbT611Y1E/1y52Ht5buz5Lv00/mBdqYvz5/LAqtyvTHJJRrQ==,iv:njnRgBxBzLILtCk/Woqiu0HSZ7wOtpu8Mxs4gUTQdRI=,tag:+XFUs2tXy6Dy1QEmUJ3BhA==,type:str]
    # The base64 encoded private key for service account token generation.
    serviceAccount:
        key: ENC[AES256_GCM,data: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,iv:jZYuclnE2zJ14kMUbG7xAOpuexNRSPedmIeyjjucuBM=,tag:Lh8H7Sx5cVNDRqDdWIXyyw==,type:str]
    # API server specific configuration options.
    apiServer:
        # The container image used in the API server manifest.
        image: registry.k8s.io/kube-apiserver:v1.34.2
        # Feature gates
        extraArgs:
            # https://kubernetes.io/docs/reference/command-line-tools-reference/feature-gates/
            feature-gates: EnvFiles=true
        # Extra certificate subject alternative names for the API server's certificate.
        certSANs:
            - 10.0.2.50
        # Disable PodSecurityPolicy in the API server and default manifests.
        disablePodSecurityPolicy: true
        # Configure the API server admission plugins.
        admissionControl:
            # Name is the name of the admission controller.
            - name: PodSecurity
              # Configuration is an embedded configuration object to be used as the plugin's
              configuration:
                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
                defaults:
                    audit: restricted
                    audit-version: latest
                    enforce: baseline
                    enforce-version: latest
                    warn: restricted
                    warn-version: latest
                exemptions:
                    namespaces:
                        - kube-system
                    runtimeClasses: []
                    usernames: []
                kind: PodSecurityConfiguration
        # Configure the API server audit policy.
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
    # Controller manager server specific configuration options.
    controllerManager:
        # The container image used in the controller manager manifest.
        image: registry.k8s.io/kube-controller-manager:v1.34.2
    # Kube-proxy server-specific configuration options
    proxy:
        # The container image used in the kube-proxy manifest.
        disabled: true
    # Scheduler server specific configuration options.
    scheduler:
        # The container image used in the scheduler manifest.
        image: registry.k8s.io/kube-scheduler:v1.34.2
    # Configures cluster member discovery.
    discovery:
        # Enable the cluster membership discovery feature.
        enabled: true
        # Configure registries used for cluster member discovery.
        registries:
            # Kubernetes registry uses Kubernetes API server to discover cluster members and stores additional information
            kubernetes:
                # Disable Kubernetes discovery registry.
                disabled: true
            # Service registry is using an external service to push and pull information about cluster members.
            service: {}
    # Etcd specific configuration options.
    etcd:
        # The `ca` is the root certificate authority of the PKI.
        ca:
            crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmakNDQVNTZ0F3SUJBZ0lSQUxsRll2bU1IbmdpUE45cTVXYU5DbGd3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TlRBNE1qUXdOVFU0TXpKYUZ3MHpOVEE0TWpJd05UVTRNekphTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTUHhhYUJ0bnZJClpoNkVFU1ZUd0ZTd0o3QUtwd2QxRy9xSEViTDNaZDUyR1dsR29WZ0JzZHRRZjBDRmNhdWtmcCtWWHhENmpLdWsKaVBHdXJ5UnJic3ZEbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkZuOHVzQnZFT0tHCk9YNTl1QStFWHdROVh3VlNNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJSHEzTFp5aFJBd0szOGFVLzY2NmFZMkEKM0tFOE1HcDNOMjVrVzVid3JaanpBaUVBN1ovM0thR3ZqcGF0S2NQU2M0QjY1dUwwUi9VUkhzamxYQk9FU1NyeApCRGs9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
            key: ENC[AES256_GCM,data:E7epwaJuTlOtGcGGkNnicvsN6m2Uj4DNxLbgKSttpHTjBg5xOc99Ka5UCzWSWrNf4Ru/KSkDuAErg2sjA2cKmRrq3vvrwKeVEbTn33n6wBI39zTn+lKrxdFJLHgMtz8tjgxTiCYn0fpdjCLueX1dESTWCLXWVlan4Z79dI8SLv0szZF4SDKvBBl/h025X13QyUyb6thjPhXi3YrKQL4p/x2zaoLMZNKB7NpjTiStkov5QbvvmJb7UTzNTz3EZAizarPKkNm3Ni6fFdavYWkw5sGM257WSZ3llWqrdC3okwrLBfXlzMuBy+oQShU5f0FMN1q+b947Lh+3vDMNfVYCoRFgFATgv0gDSetjpWXDVNS3ESAHSNMH4lIFSUdf8HedcVPVVHKljDzw4pZmAiHGTw==,iv:oJLlzPJiscywzqLkjRHIapYZRcbPlLvlHsS62ZWG+oo=,tag:iPND/Bdk+PADHNEcZ+6lEQ==,type:str]
    # A list of urls that point to additional manifests.
    extraManifests: []
    #   - https://www.example.com/manifest1.yaml
    #   - https://www.example.com/manifest2.yaml
    # A list of inline Kubernetes manifests.
    inlineManifests: []
    #   - name: namespace-ci # Name of the manifest.
    #     contents: |- # Manifest contents as a string.
    #       apiVersion: v1
    #       kind: Namespace
    #       metadata:
    #       	name: ci
    # # Allows running workload on control-plane nodes.
    allowSchedulingOnControlPlanes: true
sops:
    age:
        - recipient: age1dm2uej5x6cpvclx7azp5h3ez4dp5kdggx6a30eqf0uul2deead9q2w29sf
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBZRjFqbGp2cDUrNko1VXdY
            M1NTN0lpVHhBYUh0SzNjYnZGZmFhLzAxWlFnCjFQL1RBbzlmc0F2L1NCTFhoL00v
            a3BjYTlhNGh1TDBGS3lsOFQ0TVJJYUEKLS0tIGRYSkFlVjkrWWMzZkszU2ZPYmNH
            L29NSGlYSzNVeXpNbCtkT09ReVBMSUEKd62v49PIKB+zKlBjfyEk3kOsg4WR+gI9
            uT51N0JLMiOFweiurORMoNmKB3g2yldu0ZQKdXK+VV+Win2bOlQhqA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-12-09T18:42:31Z"
    mac: ENC[AES256_GCM,data:1wYmvlrhYalyErd8poTHLlkDykjtxqARv3k6yJbyhI/X/tnVPzvstAwRdPJKFzpVBxRI+9Jllb3RJEcpwJDXhYmhSe58tGpBDusnHoPe2sk3ARWzOwkQIeNWWywYa36yQ/5QBEVbRLjWbQYH94sCDb/Jp4HxDh9I4mSGwqKrfM0=,iv:KchBW29Fa46qXuLnNZ8Z/HOuPhxs5BGXAbChVu5A/DI=,tag:afjX+lrcfKrgH5DWl2T4NA==,type:str]
    encrypted_regex: ^(secret|bootstraptoken|secretboxEncryptionSecret|token|key|password)$
    version: 3.11.0
